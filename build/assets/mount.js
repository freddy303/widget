(function(){if(!customElements.get("triplomat-widget")){class o extends HTMLElement{constructor(){super()}}customElements.define("triplomat-widget",o)}function l(o,{theme:s="standard",lightMode:r=!0,url:a="http://127.0.0.1:8000/widget"}={}){const d=document.createElement("triplomat-widget");document.body.appendChild(d);const c=d.attachShadow({mode:"open"}),n=document.createElement("link");n.rel="stylesheet",n.href=`${a.replace("#","build/assets")}/mount.css`,c.appendChild(n),n.onload=()=>{const e=document.createElement("div");e.classList.add("TriplomatWidgetContainer"),e.addEventListener("click",i=>{i.target===e&&d.remove()}),c.appendChild(e);const t=document.createElement("iframe");t.src=`${a}/${s}?lightMode=${r}`,e.appendChild(t),t.onload=function(){const i=new URL(t.src).origin;t.contentWindow.postMessage(o,i)},console.log("Widget mounted")}}window.TriplomatWidget={mount:l},console.log("Mount script loaded")})();
